<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="settings.title">Settings</title>
    <link rel="stylesheet" href="settings.css">
</head>
<body>
    <div class="settings-container">
        <header class="settings-header">
            <div class="header-content">
                <button class="back-btn" onclick="goBackToMain()">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M19 12H5M12 19l-7-7 7-7"/>
                    </svg>
                    <span data-i18n="header.back">Back</span>
                </button>
                <h1 data-i18n="settings.title">Settings</h1>
                <div class="header-spacer"></div>
            </div>
        </header>

        <div class="settings-content">
            <aside class="settings-sidebar">
                <nav class="settings-nav">
                    <div class="nav-item active" data-category="download">
                        <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                            <polyline points="7,10 12,15 17,10"/>
                            <line x1="12" y1="15" x2="12" y2="3"/>
                        </svg>
                        <span data-i18n="settings.download">Download & Files</span>
                    </div>
                    <div class="nav-item" data-category="window">
                        <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="2" y="4" width="20" height="16" rx="2"/>
                            <path d="M10 4v4"/>
                            <path d="M2 8h20"/>
                            <path d="M6 4v4"/>
                        </svg>
                        <span data-i18n="settings.window">Window & Interface</span>
                    </div>
                    <div class="nav-item" data-category="network">
                        <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z"/>
                            <path d="M12 2c2.5 0 4 1.5 4 4s-1.5 4-4 4-4-1.5-4-4 1.5-4 4-4z"/>
                        </svg>
                        <span data-i18n="settings.network">Network & Connections</span>
                    </div>
                    <div class="nav-item" data-category="privacy">
                        <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                        </svg>
                        <span data-i18n="settings.privacy">Privacy & Security</span>
                    </div>
                    <div class="nav-item" data-category="performance">
                        <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <polyline points="12,6 12,12 16,14"/>
                        </svg>
                        <span data-i18n="settings.performance">Performance</span>
                    </div>
                    <div class="nav-item" data-category="backup">
                        <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                            <polyline points="14,2 14,8 20,8"/>
                            <line x1="16" y1="13" x2="8" y2="13"/>
                            <line x1="16" y1="17" x2="8" y2="17"/>
                            <polyline points="10,9 9,9 8,9"/>
                        </svg>
                        <span data-i18n="settings.backup">Backup & Import</span>
                    </div>
                </nav>
            </aside>

            <main class="settings-main">
                <!-- Download & Files Settings -->
                <div class="settings-panel active" id="download-panel">
                    <div class="panel-header">
                        <h2 data-i18n="settings.download">Download & Files</h2>
                        <p data-i18n="settings.download.desc">Configure file download and storage settings</p>
                    </div>
                    <div class="settings-group">
                        <div class="setting-item">
                            <label for="downloadPath" data-i18n="settings.downloadPath">Download Location</label>
                            <div class="setting-control">
                                <input type="range" id="maxConcurrentDownloads" min="1" max="10" step="1">
                                <span class="range-value">3</span>
                            </div>
                            <p class="setting-description" data-i18n="settings.maxConcurrentDownloads.desc">Maximum number of files to download simultaneously</p>
                        </div>
                        <div class="setting-item">
                            <label for="chunkSize" data-i18n="settings.chunkSize">Chunk Size</label>
                            <div class="setting-control">
                                <select id="chunkSize">
                                    <option value="65536">64KB</option>
                                    <option value="131072">128KB</option>
                                    <option value="262144">256KB</option>
                                    <option value="524288">512KB</option>
                                    <option value="1048576">1MB</option>
                                </select>
                            </div>
                            <p class="setting-description" data-i18n="settings.chunkSize.desc">Size of file chunks for downloading</p>
                        </div>
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="enableResumeDownload">
                                <span data-i18n="settings.enableResumeDownload">Enable Resume Download</span>
                            </label>
                            <p class="setting-description" data-i18n="settings.enableResumeDownload.desc">Allow resuming interrupted downloads</p>
                        </div>
                    </div>
                </div>

                <!-- Window & Interface Settings -->
                <div class="settings-panel" id="window-panel">
                    <div class="panel-header">
                        <h2 data-i18n="settings.window">Window & Interface</h2>
                        <p data-i18n="settings.window.desc">Customize application appearance and behavior</p>
                    </div>
                    <div class="settings-group">
                        <div class="setting-item">
                            <label for="windowBehavior" data-i18n="settings.windowBehavior">When Closing Window</label>
                            <div class="setting-control">
                                <select id="windowBehavior">
                                    <option value="close" data-i18n="settings.windowBehavior.close">Exit Application</option>
                                    <option value="hide" data-i18n="settings.windowBehavior.hide">Hide to System Tray</option>
                                </select>
                            </div>
                            <p class="setting-description" data-i18n="settings.windowBehavior.desc">What happens when you close the main window</p>
                        </div>
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="startMinimized">
                                <span data-i18n="settings.startMinimized">Start Minimized</span>
                            </label>
                            <p class="setting-description" data-i18n="settings.startMinimized.desc">Start the application minimized</p>
                        </div>
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="autoStartNode">
                                <span data-i18n="settings.autoStartNode">Auto Start P2P Node</span>
                            </label>
                            <p class="setting-description" data-i18n="settings.autoStartNode.desc">Automatically start the P2P node when app launches</p>
                        </div>
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="showNotifications">
                                <span data-i18n="settings.showNotifications">Show Notifications</span>
                            </label>
                            <p class="setting-description" data-i18n="settings.showNotifications.desc">Show desktop notifications for downloads and connections</p>
                        </div>
                        <div class="setting-item">
                            <label for="theme" data-i18n="settings.theme">Theme</label>
                            <div class="setting-control">
                                <select id="theme">
                                    <option value="system" data-i18n="settings.theme.system">System Default</option>
                                    <option value="light" data-i18n="settings.theme.light">Light</option>
                                    <option value="dark" data-i18n="settings.theme.dark">Dark</option>
                                </select>
                            </div>
                            <p class="setting-description" data-i18n="settings.theme.desc">Application theme</p>
                        </div>
                        <div class="setting-item">
                            <label for="language" data-i18n="settings.language">Language</label>
                            <div class="setting-control">
                                <select id="language">
                                    <option value="en" data-i18n="settings.language.en">English</option>
                                    <option value="zh" data-i18n="settings.language.zh">中文</option>
                                </select>
                            </div>
                            <p class="setting-description" data-i18n="settings.language.desc">Application language</p>
                        </div>
                    </div>
                </div>

                <!-- Network Settings -->
                <div class="settings-panel" id="network-panel">
                    <div class="panel-header">
                        <h2 data-i18n="settings.network">Network & Connections</h2>
                        <p data-i18n="settings.network.desc">Configure P2P network settings</p>
                    </div>
                    <div class="settings-group">
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="autoConnectToPeers">
                                <span>Auto Connect to Peers</span>
                            </label>
                            <p class="setting-description">Automatically connect to discovered peers</p>
                        </div>
                        <div class="setting-item">
                            <label for="maxConnections">Max Connections</label>
                            <div class="setting-control">
                                <input type="range" id="maxConnections" min="1" max="200" step="1">
                                <span class="range-value">50</span>
                            </div>
                            <p class="setting-description">Maximum number of peer connections</p>
                        </div>
                        <div class="setting-item">
                            <label for="connectionTimeout">Connection Timeout (seconds)</label>
                            <div class="setting-control">
                                <input type="range" id="connectionTimeout" min="5" max="120" step="5">
                                <span class="range-value">30</span>
                            </div>
                            <p class="setting-description">Timeout for peer connections</p>
                        </div>
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="enableUpnp">
                                <span>Enable UPnP</span>
                            </label>
                            <p class="setting-description">Automatically configure router port forwarding</p>
                        </div>
                    </div>
                </div>

                <!-- Privacy & Security Settings -->
                <div class="settings-panel" id="privacy-panel">
                    <div class="panel-header">
                        <h2 data-i18n="settings.privacy">Privacy & Security</h2>
                        <p data-i18n="settings.privacy.desc">Configure privacy and security options</p>
                    </div>
                    <div class="settings-group">
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="enableEncryption">
                                <span>Enable Encryption</span>
                            </label>
                            <p class="setting-description">Encrypt all P2P communications</p>
                        </div>
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="shareFileByDefault">
                                <span>Share Files by Default</span>
                            </label>
                            <p class="setting-description">Automatically share new files with the network</p>
                        </div>
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="autoAcceptConnections">
                                <span>Auto Accept Connections</span>
                            </label>
                            <p class="setting-description">Automatically accept incoming peer connections</p>
                        </div>
                        <div class="setting-item">
                            <label for="logLevel">Log Level</label>
                            <div class="setting-control">
                                <select id="logLevel">
                                    <option value="error">Error Only</option>
                                    <option value="warn">Warnings</option>
                                    <option value="info">Information</option>
                                    <option value="debug">Debug (Verbose)</option>
                                </select>
                            </div>
                            <p class="setting-description">Application logging level</p>
                        </div>
                    </div>
                </div>

                <!-- Performance Settings -->
                <div class="settings-panel" id="performance-panel">
                    <div class="panel-header">
                        <h2 data-i18n="settings.performance">Performance</h2>
                        <p data-i18n="settings.performance.desc">Optimize application performance</p>
                    </div>
                    <div class="settings-group">
                        <div class="setting-item">
                            <label for="memoryLimit">Memory Limit (MB)</label>
                            <div class="setting-control">
                                <input type="range" id="memoryLimit" min="128" max="4096" step="64">
                                <span class="range-value">512</span>
                            </div>
                            <p class="setting-description">Maximum memory usage</p>
                        </div>
                        <div class="setting-item">
                            <label for="diskCacheSize">Disk Cache Size (MB)</label>
                            <div class="setting-control">
                                <input type="range" id="diskCacheSize" min="100" max="10240" step="100">
                                <span class="range-value">1024</span>
                            </div>
                            <p class="setting-description">Size of disk cache for files</p>
                        </div>
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="enableFileValidation">
                                <span>Enable File Validation</span>
                            </label>
                            <p class="setting-description">Verify file integrity after download</p>
                        </div>
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="cleanupTempFiles">
                                <span>Cleanup Temp Files</span>
                            </label>
                            <p class="setting-description">Automatically cleanup temporary files</p>
                        </div>
                    </div>
                </div>

                <!-- Backup & Import Settings -->
                <div class="settings-panel" id="backup-panel">
                    <div class="panel-header">
                        <h2 data-i18n="settings.backup">Backup & Import</h2>
                        <p data-i18n="settings.backup.desc">Manage settings and data backup</p>
                    </div>
                    <div class="settings-group">
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="autoBackupSettings">
                                <span>Auto Backup Settings</span>
                            </label>
                            <p class="setting-description">Automatically backup settings periodically</p>
                        </div>
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="autoBackupDatabase">
                                <span>Auto Backup Database</span>
                            </label>
                            <p class="setting-description">Automatically backup file database</p>
                        </div>
                        <div class="setting-item">
                            <label for="backupInterval">Backup Interval (hours)</label>
                            <div class="setting-control">
                                <input type="range" id="backupInterval" min="1" max="168" step="1">
                                <span class="range-value">24</span>
                            </div>
                            <p class="setting-description">How often to create automatic backups</p>
                        </div>
                        <div class="setting-item">
                            <label for="maxBackupFiles">Max Backup Files</label>
                            <div class="setting-control">
                                <input type="range" id="maxBackupFiles" min="1" max="50" step="1">
                                <span class="range-value">5</span>
                            </div>
                            <p class="setting-description">Maximum number of backup files to keep</p>
                        </div>
                        <div class="setting-item backup-actions">
                            <div class="backup-buttons">
                                <button class="btn-secondary" onclick="createBackup()">Create Backup Now</button>
                                <button class="btn-secondary" onclick="showBackupList()">View Backups</button>
                            </div>
                            <div class="import-export-buttons">
                                <button class="btn-outline" onclick="exportSettings()">Export Settings</button>
                                <button class="btn-outline" onclick="importSettings()">Import Settings</button>
                            </div>
                        </div>
                    </div>

                    <!-- Backup List -->
                    <div id="backupList" class="backup-list" style="display: none;">
                        <h3>Available Backups</h3>
                        <div id="backupItems" class="backup-items">
                            <!-- Backup items will be populated here -->
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <!-- Settings Actions - moved to bottom right -->
        <div class="settings-actions">
            <button class="btn-secondary" onclick="resetAllSettings()" data-i18n="settings.resetAll">Reset All</button>
            <button class="btn-primary" onclick="saveAllSettings()" data-i18n="settings.saveChanges">Save Changes</button>
        </div>
    </div>

    <!-- Toast notifications -->
    <div id="toast-container" class="toast-container"></div>

    <!-- Confirmation dialogs -->
    <div id="confirmDialog" class="modal" style="display: none;">
        <div class="modal-content">
            <h3 id="confirmTitle">Confirm Action</h3>
            <p id="confirmMessage">Are you sure you want to proceed?</p>
            <div class="modal-actions">
                <button class="btn-secondary" onclick="closeConfirmDialog()" data-i18n="settings.cancel">Cancel</button>
                <button class="btn-primary" id="confirmButton" data-i18n="settings.confirm">Confirm</button>
            </div>
        </div>
    </div>

    <script src="i18n.js"></script>
    <script src="settings.js"></script>
</body>
</html> type="text" id="downloadPath" readonly>
                                <button onclick="selectDownloadPath()" data-i18n="settings.downloadPath.browse">Browse</button>
                            </div>
                            <p class="setting-description" data-i18n="settings.downloadPath.desc">Where downloaded files will be saved</p>
                        </div>
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="autoCreateSubfolders">
                                <span data-i18n="settings.autoCreateSubfolders">Auto Create Subfolders</span>
                            </label>
                            <p class="setting-description" data-i18n="settings.autoCreateSubfolders.desc">Automatically create subfolders for different file types</p>
                        </div>
                        <div class="setting-item">
                            <label for="maxConcurrentDownloads" data-i18n="settings.maxConcurrentDownloads">Max Concurrent Downloads</label>
                            <div class="setting-control">
                                <input<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings - P2P File Sharing</title>
    <link rel="stylesheet" href="settings.css">
</head>
<body>
    <div class="settings-container">
        <header class="settings-header">
            <div class="header-content">
                <button class="back-btn" onclick="closeSettings()">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M19 12H5M12 19l-7-7 7-7"/>
                    </svg>
                    Back
                </button>
                <h1>Settings</h1>
                <div class="header-actions">
                    <button class="btn-secondary" onclick="resetAllSettings()">Reset All</button>
                    <button class="btn-primary" onclick="saveAllSettings()">Save Changes</button>
                </div>
            </div>
        </header>

        <div class="settings-content">
            <aside class="settings-sidebar">
                <nav class="settings-nav">
                    <div class="nav-item active" data-category="download">
                        <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                            <polyline points="7,10 12,15 17,10"/>
                            <line x1="12" y1="15" x2="12" y2="3"/>
                        </svg>
                        <span>Download & Files</span>
                    </div>
                    <div class="nav-item" data-category="window">
                        <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="2" y="4" width="20" height="16" rx="2"/>
                            <path d="M10 4v4"/>
                            <path d="M2 8h20"/>
                            <path d="M6 4v4"/>
                        </svg>
                        <span>Window & Interface</span>
                    </div>
                    <div class="nav-item" data-category="network">
                        <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z"/>
                            <path d="M12 2c2.5 0 4 1.5 4 4s-1.5 4-4 4-4-1.5-4-4 1.5-4 4-4z"/>
                        </svg>
                        <span>Network & Connections</span>
                    </div>
                    <div class="nav-item" data-category="privacy">
                        <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                        </svg>
                        <span>Privacy & Security</span>
                    </div>
                    <div class="nav-item" data-category="performance">
                        <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <polyline points="12,6 12,12 16,14"/>
                        </svg>
                        <span>Performance</span>
                    </div>
                    <div class="nav-item" data-category="backup">
                        <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                            <polyline points="14,2 14,8 20,8"/>
                            <line x1="16" y1="13" x2="8" y2="13"/>
                            <line x1="16" y1="17" x2="8" y2="17"/>
                            <polyline points="10,9 9,9 8,9"/>
                        </svg>
                        <span>Backup & Import</span>
                    </div>
                </nav>
            </aside>

            <main class="settings-main">
                <!-- Download & Files Settings -->
                <div class="settings-panel active" id="download-panel">
                    <div class="panel-header">
                        <h2>Download & Files</h2>
                        <p>Configure file download and storage settings</p>
                    </div>
                    <div class="settings-group">
                        <div class="setting-item">
                            <label for="downloadPath">Download Location</label>
                            <div class="setting-control">
                                <input type="text" id="downloadPath" readonly>
                                <button onclick="selectDownloadPath()">Browse</button>
                            </div>
                            <p class="setting-description">Where downloaded files will be saved</p>
                        </div>
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="autoCreateSubfolders">
                                Auto Create Subfolders
                            </label>
                            <p class="setting-description">Automatically create subfolders for different file types</p>
                        </div>
                        <div class="setting-item">
                            <label for="maxConcurrentDownloads">Max Concurrent Downloads</label>
                            <div class="setting-control">
                                <input type="range" id="maxConcurrentDownloads" min="1" max="10" step="1">
                                <span class="range-value">3</span>
                            </div>
                            <p class="setting-description">Maximum number of files to download simultaneously</p>
                        </div>
                        <div class="setting-item">
                            <label for="chunkSize">Chunk Size</label>
                            <div class="setting-control">
                                <select id="chunkSize">
                                    <option value="65536">64KB</option>
                                    <option value="131072">128KB</option>
                                    <option value="262144">256KB</option>
                                    <option value="524288">512KB</option>
                                    <option value="1048576">1MB</option>
                                </select>
                            </div>
                            <p class="setting-description">Size of file chunks for downloading</p>
                        </div>
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="enableResumeDownload">
                                Enable Resume Download
                            </label>
                            <p class="setting-description">Allow resuming interrupted downloads</p>
                        </div>
                    </div>
                </div>

                <!-- Window & Interface Settings -->
                <div class="settings-panel" id="window-panel">
                    <div class="panel-header">
                        <h2>Window & Interface</h2>
                        <p>Customize application appearance and behavior</p>
                    </div>
                    <div class="settings-group">
                        <div class="setting-item">
                            <label for="windowBehavior">When Closing Window</label>
                            <div class="setting-control">
                                <select id="windowBehavior">
                                    <option value="close">Exit Application</option>
                                    <option value="minimize">Minimize to Taskbar</option>
                                    <option value="hide">Hide to System Tray</option>
                                </select>
                            </div>
                            <p class="setting-description">What happens when you close the main window</p>
                        </div>
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="startMinimized">
                                Start Minimized
                            </label>
                            <p class="setting-description">Start the application minimized</p>
                        </div>
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="autoStartNode">
                                Auto Start P2P Node
                            </label>
                            <p class="setting-description">Automatically start the P2P node when app launches</p>
                        </div>
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="showNotifications">
                                Show Notifications
                            </label>
                            <p class="setting-description">Show desktop notifications for downloads and connections</p>
                        </div>
                        <div class="setting-item">
                            <label for="theme">Theme</label>
                            <div class="setting-control">
                                <select id="theme">
                                    <option value="system">System Default</option>
                                    <option value="light">Light</option>
                                    <option value="dark">Dark</option>
                                </select>
                            </div>
                            <p class="setting-description">Application theme</p>
                        </div>
                        <div class="setting-item">
                            <label for="language">Language</label>
                            <div class="setting-control">
                                <select id="language">
                                    <option value="en">English</option>
                                    <option value="zh">中文</option>
                                </select>
                            </div>
                            <p class="setting-description">Application language</p>
                        </div>
                    </div>
                </div>

                <!-- Network Settings -->
                <div class="settings-panel" id="network-panel">
                    <div class="panel-header">
                        <h2>Network & Connections</h2>
                        <p>Configure P2P network settings</p>
                    </div>
                    <div class="settings-group">
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="autoConnectToPeers">
                                Auto Connect to Peers
                            </label>
                            <p class="setting-description">Automatically connect to discovered peers</p>
                        </div>
                        <div class="setting-item">
                            <label for="maxConnections">Max Connections</label>
                            <div class="setting-control">
                                <input type="range" id="maxConnections" min="1" max="200" step="1">
                                <span class="range-value">50</span>
                            </div>
                            <p class="setting-description">Maximum number of peer connections</p>
                        </div>
                        <div class="setting-item">
                            <label for="connectionTimeout">Connection Timeout (seconds)</label>
                            <div class="setting-control">
                                <input type="range" id="connectionTimeout" min="5" max="120" step="5">
                                <span class="range-value">30</span>
                            </div>
                            <p class="setting-description">Timeout for peer connections</p>
                        </div>
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="enableUpnp">
                                Enable UPnP
                            </label>
                            <p class="setting-description">Automatically configure router port forwarding</p>
                        </div>
                    </div>
                </div>

                <!-- Privacy & Security Settings -->
                <div class="settings-panel" id="privacy-panel">
                    <div class="panel-header">
                        <h2>Privacy & Security</h2>
                        <p>Configure privacy and security options</p>
                    </div>
                    <div class="settings-group">
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="enableEncryption">
                                Enable Encryption
                            </label>
                            <p class="setting-description">Encrypt all P2P communications</p>
                        </div>
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="shareFileByDefault">
                                Share Files by Default
                            </label>
                            <p class="setting-description">Automatically share new files with the network</p>
                        </div>
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="autoAcceptConnections">
                                Auto Accept Connections
                            </label>
                            <p class="setting-description">Automatically accept incoming peer connections</p>
                        </div>
                        <div class="setting-item">
                            <label for="logLevel">Log Level</label>
                            <div class="setting-control">
                                <select id="logLevel">
                                    <option value="error">Error Only</option>
                                    <option value="warn">Warnings</option>
                                    <option value="info">Information</option>
                                    <option value="debug">Debug (Verbose)</option>
                                </select>
                            </div>
                            <p class="setting-description">Application logging level</p>
                        </div>
                    </div>
                </div>

                <!-- Performance Settings -->
                <div class="settings-panel" id="performance-panel">
                    <div class="panel-header">
                        <h2>Performance</h2>
                        <p>Optimize application performance</p>
                    </div>
                    <div class="settings-group">
                        <div class="setting-item">
                            <label for="memoryLimit">Memory Limit (MB)</label>
                            <div class="setting-control">
                                <input type="range" id="memoryLimit" min="128" max="4096" step="64">
                                <span class="range-value">512</span>
                            </div>
                            <p class="setting-description">Maximum memory usage</p>
                        </div>
                        <div class="setting-item">
                            <label for="diskCacheSize">Disk Cache Size (MB)</label>
                            <div class="setting-control">
                                <input type="range" id="diskCacheSize" min="100" max="10240" step="100">
                                <span class="range-value">1024</span>
                            </div>
                            <p class="setting-description">Size of disk cache for files</p>
                        </div>
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="enableFileValidation">
                                Enable File Validation
                            </label>
                            <p class="setting-description">Verify file integrity after download</p>
                        </div>
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="cleanupTempFiles">
                                Cleanup Temp Files
                            </label>
                            <p class="setting-description">Automatically cleanup temporary files</p>
                        </div>
                    </div>
                </div>

                <!-- Backup & Import Settings -->
                <div class="settings-panel" id="backup-panel">
                    <div class="panel-header">
                        <h2>Backup & Import</h2>
                        <p>Manage settings and data backup</p>
                    </div>
                    <div class="settings-group">
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="autoBackupSettings">
                                Auto Backup Settings
                            </label>
                            <p class="setting-description">Automatically backup settings periodically</p>
                        </div>
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="autoBackupDatabase">
                                Auto Backup Database
                            </label>
                            <p class="setting-description">Automatically backup file database</p>
                        </div>
                        <div class="setting-item">
                            <label for="backupInterval">Backup Interval (hours)</label>
                            <div class="setting-control">
                                <input type="range" id="backupInterval" min="1" max="168" step="1">
                                <span class="range-value">24</span>
                            </div>
                            <p class="setting-description">How often to create automatic backups</p>
                        </div>
                        <div class="setting-item">
                            <label for="maxBackupFiles">Max Backup Files</label>
                            <div class="setting-control">
                                <input type="range" id="maxBackupFiles" min="1" max="50" step="1">
                                <span class="range-value">5</span>
                            </div>
                            <p class="setting-description">Maximum number of backup files to keep</p>
                        </div>
                        <div class="setting-item backup-actions">
                            <div class="backup-buttons">
                                <button class="btn-secondary" onclick="createBackup()">Create Backup Now</button>
                                <button class="btn-secondary" onclick="showBackupList()">View Backups</button>
                            </div>
                            <div class="import-export-buttons">
                                <button class="btn-outline" onclick="exportSettings()">Export Settings</button>
                                <button class="btn-outline" onclick="importSettings()">Import Settings</button>
                            </div>
                        </div>
                    </div>

                    <!-- Backup List -->
                    <div id="backupList" class="backup-list" style="display: none;">
                        <h3>Available Backups</h3>
                        <div id="backupItems" class="backup-items">
                            <!-- Backup items will be populated here -->
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Toast notifications -->
    <div id="toast-container" class="toast-container"></div>

    <!-- Confirmation dialogs -->
    <div id="confirmDialog" class="modal" style="display: none;">
        <div class="modal-content">
            <h3 id="confirmTitle">Confirm Action</h3>
            <p id="confirmMessage">Are you sure you want to proceed?</p>
            <div class="modal-actions">
                <button class="btn-secondary" onclick="closeConfirmDialog()">Cancel</button>
                <button class="btn-primary" id="confirmButton">Confirm</button>
            </div>
        </div>
    </div>

    <script src="settings.js"></script>
</body>
</html>